// FeeZero Platform Internationalization
import type { Language, Translations } from './types';

export const translations: Translations = {
  // Navigation
  'nav.home': {
    ko: '홈',
    en: 'Home',
    zh: '首页',
    ja: 'ホーム'
  },
  'nav.find_projects': {
    ko: '프로젝트 찾기',
    en: 'Find Projects',
    zh: '查找项目',
    ja: 'プロジェクトを探す'
  },
  'nav.find_experts': {
    ko: '전문가 찾기',
    en: 'Find Experts',
    zh: '查找专家',
    ja: 'エキスパートを探す'
  },
  'nav.categories': {
    ko: '카테고리',
    en: 'Categories',
    zh: '类别',
    ja: 'カテゴリー'
  },
  'nav.post_project': {
    ko: '프로젝트 등록',
    en: 'Post Project',
    zh: '发布项目',
    ja: 'プロジェクト登録'
  },
  'nav.messages': {
    ko: '메시지',
    en: 'Messages',
    zh: '消息',
    ja: 'メッセージ'
  },
  'nav.my_activity': {
    ko: '내 활동',
    en: 'My Activity',
    zh: '我的活动',
    ja: 'マイアクティビティ'
  },
  'nav.profile': {
    ko: '내 프로필',
    en: 'My Profile',
    zh: '我的资料',
    ja: 'マイプロフィール'
  },
  'nav.payment': {
    ko: '결제',
    en: 'Payment',
    zh: '支付',
    ja: '支払い'
  },
  'nav.membership': {
    ko: '멤버십',
    en: 'Membership',
    zh: '会员',
    ja: 'メンバーシップ'
  },
  'nav.support': {
    ko: '고객센터',
    en: 'Support',
    zh: '客服中心',
    ja: 'カスタマーサポート'
  },
  'nav.settings': {
    ko: '설정',
    en: 'Settings',
    zh: '设置',
    ja: '設定'
  },
  
  // Authentication
  'auth.login': {
    ko: '로그인',
    en: 'Login',
    zh: '登录',
    ja: 'ログイン'
  },
  'auth.register': {
    ko: '회원가입',
    en: 'Register',
    zh: '注册',
    ja: '会員登録'
  },
  'auth.logout': {
    ko: '로그아웃',
    en: 'Logout',
    zh: '登出',
    ja: 'ログアウト'
  },
  'auth.email': {
    ko: '이메일',
    en: 'Email',
    zh: '电子邮箱',
    ja: 'メール'
  },
  'auth.password': {
    ko: '비밀번호',
    en: 'Password',
    zh: '密码',
    ja: 'パスワード'
  },
  'auth.full_name': {
    ko: '이름',
    en: 'Full Name',
    zh: '姓名',
    ja: '氏名'
  },
  'auth.nickname': {
    ko: '닉네임',
    en: 'Nickname',
    zh: '昵称',
    ja: 'ニックネーム'
  },
  'auth.phone_number': {
    ko: '연락처',
    en: 'Phone Number',
    zh: '联系方式',
    ja: '連絡先'
  },
  'auth.country': {
    ko: '국가',
    en: 'Country',
    zh: '国家',
    ja: '国'
  },
  'auth.user_type': {
    ko: '사용자 유형',
    en: 'User Type',
    zh: '用户类型',
    ja: 'ユーザータイプ'
  },
  'auth.client': {
    ko: '의뢰인',
    en: 'Client',
    zh: '委托人',
    ja: '依頼者'
  },
  'auth.freelancer': {
    ko: '프리랜서',
    en: 'Freelancer',
    zh: '自由职业者',
    ja: 'フリーランサー'
  },
  
  // Platform Info
  'platform.name': {
    ko: 'FeeZero',
    en: 'FeeZero',
    zh: 'FeeZero',
    ja: 'FeeZero'
  },
  'platform.tagline': {
    ko: '수수료 제로, 프리랜서 플랫폼의 새로운 기준',
    en: 'Zero Fees, New Standard for Freelance Platforms',
    zh: '零手续费，自由职业平台的新标准',
    ja: '手数料ゼロ、フリーランスプラットフォームの新基準'
  },
  'platform.fee_policy': {
    ko: '의뢰인 2%, 개발자 0%',
    en: 'Client 2%, Developer 0%',
    zh: '委托人2%，开发者0%',
    ja: '依頼者2%、開発者0%'
  },
  
  // Common Actions
  'action.search': {
    ko: '검색',
    en: 'Search',
    zh: '搜索',
    ja: '検索'
  },
  'action.submit': {
    ko: '제출',
    en: 'Submit',
    zh: '提交',
    ja: '提出'
  },
  'action.cancel': {
    ko: '취소',
    en: 'Cancel',
    zh: '取消',
    ja: 'キャンセル'
  },
  'action.save': {
    ko: '저장',
    en: 'Save',
    zh: '保存',
    ja: '保存'
  },
  'action.edit': {
    ko: '수정',
    en: 'Edit',
    zh: '编辑',
    ja: '編集'
  },
  'action.delete': {
    ko: '삭제',
    en: 'Delete',
    zh: '删除',
    ja: '削除'
  },
  'action.view': {
    ko: '보기',
    en: 'View',
    zh: '查看',
    ja: '表示'
  },
  'action.download': {
    ko: '다운로드',
    en: 'Download',
    zh: '下载',
    ja: 'ダウンロード'
  },
  
  // Status
  'status.active': {
    ko: '활성',
    en: 'Active',
    zh: '活跃',
    ja: 'アクティブ'
  },
  'status.inactive': {
    ko: '비활성',
    en: 'Inactive',
    zh: '不活跃',
    ja: '非アクティブ'
  },
  'status.pending': {
    ko: '대기 중',
    en: 'Pending',
    zh: '待定',
    ja: '保留中'
  },
  'status.completed': {
    ko: '완료',
    en: 'Completed',
    zh: '已完成',
    ja: '完了'
  },
  'status.cancelled': {
    ko: '취소됨',
    en: 'Cancelled',
    zh: '已取消',
    ja: 'キャンセル済み'
  }
};

export function t(key: string, lang: Language = 'ko'): string {
  return translations[key]?.[lang] || key;
}

export function getLanguageFromRequest(request: Request): Language {
  // Try to get language from query parameter
  const url = new URL(request.url);
  const queryLang = url.searchParams.get('lang');
  if (queryLang && ['ko', 'en', 'zh', 'ja'].includes(queryLang)) {
    return queryLang as Language;
  }
  
  // Try to get language from Accept-Language header
  const acceptLanguage = request.headers.get('Accept-Language');
  if (acceptLanguage) {
    const lang = acceptLanguage.split(',')[0].split('-')[0].toLowerCase();
    if (lang === 'ko') return 'ko';
    if (lang === 'en') return 'en';
    if (lang === 'zh') return 'zh';
    if (lang === 'ja') return 'ja';
  }
  
  // Default to Korean
  return 'ko';
}
